---
import Layout from "../../layouts/Layout.astro";
import MovieVideo from "../../components/MovieVideo.astro";
import MovieCard from "../../components/MovieCard.astro";

const { id } = Astro.params;
const imagesURL = "https://image.tmdb.org/t/p/w300";

import { getMovie } from "../../api/main.js";
const movie = await getMovie(id);
// console.log(movie) //datos de la movie
// console.log(imagesURL + movie.backdrop_path)
---

<Layout title="Movies">
  <header class="dark:bg-gray-800">
    <MovieVideo image={imagesURL + movie.backdrop_path} />
  </header>
  <MovieCard
    h2={movie.title}
    stars={movie.vote_average}
    genres={movie.genres}
    rating={movie.popularity}
    lang={movie.original_language}
    description={movie.overview}
    release={movie.release_date}
    runtime={movie.runtime}
  />
</Layout>
